<ng-template #childComponentTemplate>
  <svg width="100%" height="100%" class="block_container"
    [class]="[
      'block_' + type
    ]"
    [class.dashes]="isAddBlock()"

    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"

    (click)="isInfoPanelOpen = !isInfoPanelOpen"
  >
    <g><path class="block_background block_border"
      [attr.d]="path"
      [attr.stroke-dasharray]="strokeDasharray"
      [attr.stroke-width]="strokeWidth"
    ></path></g>
    <g [attr.transform]="'matrix(' + imageZoomAndPanMatrix.join(' ') + ')'" class="image">
      <g #svgImage *ngIf="svgUrl"
        [attr.data-src]="svgUrl"
        data-cache="disabled"
      />
    </g>
  </svg>

  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isInfoPanelOpen"
  >
    <dmm-overlay
      [tags]='[{label: "High Luminance"}, {label: "Medical"}]'
      [properties]='[
        {label: "ID", value: "DB_24", hasCheckMark: true},
        {label: "Chemical Formula", value: "C<sub>6</sub>H<sub>2</sub>O<sub>2</sub>"},
        {label: "Molecular Weight", value: "45.3 <span class=\"value_label\">g/mol</span>"}
      ]'
      [additionalProperties]='[
        {label: "Chemical Formula", value: "C<sub>16</sub>H<sub>12</sub>O<sub>12</sub>"},
        {label: "ID", value: "DB_332124", hasCheckMark: true},
        {label: "Molecular Weight", value: "3245.3 <span class=\"value_label\">g/mol</span>"}
      ]'

      (close)="isInfoPanelOpen = !isInfoPanelOpen"
    >
      <ng-template let-overlay #templateAdditionalProperties>
        <p>testing that this will show up</p>
      </ng-template>

      <ng-template let-overlay #templateFooter>
<!--
//left here to show how the alternative layout could be setup. refer to figma for visual reference on which buttons show up on the block / molecule overlays

        <div class="outline">Found in <span class="emphasis">20 molecules</span></div>
        <button class="button outline_button">Found in <span class="emphasis">20 molecules</span></button>
-->
        <div class="icon">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_b_1205_10369)">
              <circle cx="16" cy="16" r="14" fill="#F8F8F8"/>
            </g>
            <path d="M7 21.5L17.5 25L20 10.5" stroke="#B3B3B3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="7.2439" cy="21.4631" r="6.2439" fill="#8ED295"/>
            <circle cx="17.5122" cy="24.5122" r="3.5122" fill="#2EA6DF"/>
            <circle cx="19.9756" cy="9.97561" r="8.97561" fill="#92A7DE"/>
            <defs>
              <filter id="filter0_b_1205_10369" x="-13" y="-13" width="58" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feGaussianBlur in="BackgroundImageFix" stdDeviation="7.5"/>
                <feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1205_10369"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_1205_10369" result="shape"/>
              </filter>
            </defs>
          </svg>
        </div>

        <div class="stat">
          <div class="value">50-60%</div>
          <div class="label">Predicted Yield</div>
        </div>

        <div class="stat">
          <div class="value">90</div>
          <div class="label">Innovation Score</div>
        </div>

        <button class="button text_button">
          <div class="info_icon">
            <svg width="2" height="10" viewBox="0 0 2 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 2H2V0H0V2ZM0 10H2V4H0V10Z" fill="currentColor"/>
            </svg>
          </div>
        </button>

        <div class="spacer"></div>

        <button class="button text_button">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 16C10 14.8954 9.10457 14 8 14C6.89543 14 6 14.8954 6 16C6 17.1046 6.89543 18 8 18C9.10457 18 10 17.1046 10 16Z" fill="currentColor"/>
            <path d="M18 16C18 14.8954 17.1046 14 16 14C14.8954 14 14 14.8954 14 16C14 17.1046 14.8954 18 16 18C17.1046 18 18 17.1046 18 16Z" fill="currentColor"/>
            <path d="M26 16C26 14.8954 25.1046 14 24 14C22.8954 14 22 14.8954 22 16C22 17.1046 22.8954 18 24 18C25.1046 18 26 17.1046 26 16Z" fill="currentColor"/>
          </svg>
        </button>

        <button class="button outline_button">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.3333 7.33333C13.1565 7.33333 12.987 7.40357 12.8619 7.5286C12.7369 7.65362 12.6667 7.82319 12.6667 8V12C12.6667 12.1768 12.5964 12.3464 12.4714 12.4714C12.3464 12.5964 12.1768 12.6667 12 12.6667H4C3.82319 12.6667 3.65362 12.5964 3.5286 12.4714C3.40357 12.3464 3.33333 12.1768 3.33333 12V4C3.33333 3.82319 3.40357 3.65362 3.5286 3.5286C3.65362 3.40357 3.82319 3.33333 4 3.33333H8C8.17681 3.33333 8.34638 3.2631 8.4714 3.13807C8.59643 3.01305 8.66667 2.84348 8.66667 2.66667C8.66667 2.48986 8.59643 2.32029 8.4714 2.19526C8.34638 2.07024 8.17681 2 8 2H4C3.46957 2 2.96086 2.21071 2.58579 2.58579C2.21071 2.96086 2 3.46957 2 4V12C2 12.5304 2.21071 13.0391 2.58579 13.4142C2.96086 13.7893 3.46957 14 4 14H12C12.5304 14 13.0391 13.7893 13.4142 13.4142C13.7893 13.0391 14 12.5304 14 12V8C14 7.82319 13.9298 7.65362 13.8047 7.5286C13.6797 7.40357 13.5101 7.33333 13.3333 7.33333Z" fill="currentColor"/>
    <path d="M10.6668 3.33333H11.7201L7.52679 7.52C7.4643 7.58197 7.41471 7.65571 7.38086 7.73695C7.34702 7.81819 7.32959 7.90532 7.32959 7.99333C7.32959 8.08134 7.34702 8.16848 7.38086 8.24972C7.41471 8.33096 7.4643 8.40469 7.52679 8.46667C7.58876 8.52915 7.6625 8.57875 7.74374 8.61259C7.82498 8.64644 7.91211 8.66387 8.00012 8.66387C8.08813 8.66387 8.17527 8.64644 8.25651 8.61259C8.33775 8.57875 8.41148 8.52915 8.47346 8.46667L12.6668 4.28V5.33333C12.6668 5.51014 12.737 5.67971 12.8621 5.80474C12.9871 5.92976 13.1566 6 13.3335 6C13.5103 6 13.6798 5.92976 13.8049 5.80474C13.9299 5.67971 14.0001 5.51014 14.0001 5.33333V2.66667C14.0001 2.48986 13.9299 2.32029 13.8049 2.19526C13.6798 2.07024 13.5103 2 13.3335 2H10.6668C10.49 2 10.3204 2.07024 10.1954 2.19526C10.0704 2.32029 10.0001 2.48986 10.0001 2.66667C10.0001 2.84348 10.0704 3.01305 10.1954 3.13807C10.3204 3.2631 10.49 3.33333 10.6668 3.33333Z" fill="currentColor"/>
    </svg>

          Cited by <span class="emphasis">15</span>
        </button>

        <button class="button button_add_to_cart">Add to cart</button>
      </ng-template>
    </dmm-overlay>

  </ng-template>
</ng-template>

