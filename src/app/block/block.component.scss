/**************** block css ******************/

@import '../styles/core';

$block_border_width: 4px;
$block_border_radius: 2px;

$block_icon_width: 42px;
$block_icon_height: 36px;

//**************** custom mixins ******************

@mixin block_style($name) {
  &.block_#{$name} {
    .block_background {
      fill: color_variable('block_' + $name);
    }

    .block_border {
      stroke: color_variable('block_' + $name + '_border');
    }
  }
}


//pass 2 variables
//example: top, left

//no longer needed, can remove in the future

@mixin corner($corners...) {
  //.top_left
  .#{nth($corners, 1)}_#{nth($corners, 2)} {
    position: absolute;
    z-index: 100;

    width: 10px;
    height: 10px;

    @include border-radius($border_radius);

    @each $name in $corners {
      #{$name}: 0px; //top: 0px

      border: {
        #{$name}: $block_border_width solid color_variable('block_border'); //top
      }

    }
  }
}


//**************** css ******************

.block_container {
  position: relative;

//  padding: ($padding) ($padding * 1.5);

  @include box-sizing(border-box);

  @include block_style('start');
  @include block_style('middle');
  @include block_style('end');

/*
  @include corner(top, left);
  @include corner(top, right);
  @include corner(bottom, left);
  @include corner(bottom, right);
*/

  &:not(.dashes):hover {
    cursor: pointer;

    .block_background {
      fill: color_variable('block_hover');
      @include transition(none);
    }

    .block_border {
      stroke: color_variable('block_hover_border');
      @include transition(none);
    }
  }

  &.dashes {
    cursor: pointer;

    .block_background {
      fill: color_variable('background');
    }

    .block_border {
      stroke: color_variable('block_border_dashes');
//      stroke-dasharray: 5;
    }

    &:hover {
      .block_border {
        stroke: color_variable('block_hover_dashes');
        @include transition(none);
      }
    }
  }

  &.size_small {
    .image {
      svg {
//        @include scale(.5);
      }
    }
  }
/*
  //todo - fix small size so it properly scales the image / svg...appears that the determined width / height after load causes an issue
  &.size_small {
    padding: ($padding * .5) ($padding);

    .image {
      min: {
        width: 100px;
        height: 76px;
      }

      svg {
        width: 80px;
        height: auto;
      }
    }

    .tab_offset {
      @include transform(scale(.6) translate(0, 30px));
    }

    #tab_right {
      @include transform(scale(.6) translate(-6px, 0px));
    }

    .block_border {
      stroke: {
        width: 4px;
      }
    }
  }

  &.size_icon {
    display: flex;
    justify-content: center;
    align-items: center;

    width: $block_icon_width;
    height: $block_icon_height;

    .image {
      min: {
        width: 0px;
        height: 0px;
      }
    }

    .tab_offset {
      @include transform(scale(.3) translate(0, 30px));
    }

    #tab_right {
      @include transform(scale(.3) translate(-20px, -62px));
    }

    .block_border {
      stroke: {
        width: 2px;
      }
    }
  }
*/
  .icon_label {
    color: color_variable('background');

    font: {
      weight: bold;
    }
  }
/*
  #block_shape {
    display: block;

    position: absolute;
    left: 0px;
    top: 0px;
    z-index: -10;

    width: 100%;
    height: 100%;
  }
*/

  #tab_right {
    position: absolute;
    right: 0px;
//    right: 0px;
//    left: calc(100% - 5px); //offset to hide the box_graphic border
    top: 0px;
    z-index: 100;

    @include translate(20px, 20px);
  }

  .block_background {
    @include transition(#{fill .2s easing($ease-in), stroke .2s easing($ease-in)});
  }

  .block_border {
    @include transition(#{fill .2s easing($ease-in), stroke .2s easing($ease-in)});
  }

  .tab_offset {
    @include translate(0px, 20px);
  }

  .image {
    display: inline-flex;
    justify-content: center;
    align-items: center;

    position: absolute;
    left: 50%;
    top: 50%;
    z-index: 10;

    @include translate(-50%, -50%);

/*
    min: {
      width: 130px;
      height: 90px;
    }
*/
  }

  .block_label {
    font: {
      size: 90%;
    }
  }
}
